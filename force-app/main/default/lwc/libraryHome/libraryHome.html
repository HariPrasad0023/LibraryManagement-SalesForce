<template>
    <lightning-card title="Library Home">
        <div class="slds-m-around_medium">
            <!-- Navigation Bar -->
            <lightning-button label="Books" onclick={handleBooksClick}></lightning-button>
            <lightning-button label="Loans" onclick={handleLoansClick}></lightning-button>
            <lightning-button label="Fines" onclick={handleFinesClick}></lightning-button>

            <!-- Book List Display -->
            <template if:true={books.length}>
                <h2 class="slds-text-heading_medium">Book List</h2>
                <ul class="slds-m-top_medium">
                    <template for:each={books} for:item="book">
                        <li key={book.Id} class="slds-box slds-m-around_small">
                            <p><strong>Title:</strong> {book.Name}</p>
                            <p><strong>Genre:</strong> {book.Genre__c}</p>
                            <p><strong>Availability Status:</strong> {book.Availability_Status__c}</p>
                        </li>
                    </template>
                </ul>
            </template>

            <!-- Loan List Display -->
            <template if:true={loans.length}>
                <h2 class="slds-text-heading_medium">My Loans</h2>
                <ul class="slds-m-top_medium">
                    <template for:each={loans} for:item="loan">
                        <li key={loan.Id} class="slds-box slds-m-around_small">
                            <p><strong>Book Name:</strong> {loan.Book__r.Name}</p>
                            <p><strong>Loan Date:</strong> {loan.Loan_Date__c}</p>
                            <p><strong>Due Date:</strong> {loan.Due_Date__c}</p>
                            <p><strong>Return Date:</strong> {loan.Return_Date__c}</p>
                            <p><strong>Status:</strong> {loan.Loan_Status__c}</p>
                        </li>
                    </template>
                </ul>
            </template>

            <!-- Fines List Display -->
            <template if:true={fines.length}>
                <h2 class="slds-text-heading_medium">My Fines</h2>
                <ul class="slds-m-top_medium">
                    <template for:each={fines} for:item="fine">
                        <li key={fine.Id} class="slds-box slds-m-around_small">
                            <p><strong>Fine Name:</strong> {fine.Loan__r.Loan_Name__c}</p>
                            <p><strong>Fine Amount:</strong> {fine.Fine_Amount__c}</p>
                            <p><strong>Fine Status:</strong> {fine.Fine_Status__c}</p>
                        </li>
                    </template>
                </ul>
            </template>

            <template if:true={errorMessage}>
                <p class="error-message">{errorMessage}</p>
            </template>
        </div>
    </lightning-card>
</template>
